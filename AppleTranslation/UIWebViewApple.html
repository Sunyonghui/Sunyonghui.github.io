<!doctype html>




<html class="theme-next mist" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


 




<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />


 

  <meta name="google-site-verification" content="tJ1b_5K4s886Dj_mMP2tyEHgak2WOqILA5ZEH-a61GA" />



  <meta name="baidu-site-verification" content="8pzR3AIELM" />


 







  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="è¯‘æ–‡," />





  <link rel="alternate" href="/atom.xml" title="å››æ—¶äº”å‘³ï¼Œå†·æš–è‡ªçŸ¥" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/images/logo.jpg?v=5.1.1" />






<meta name="description" content="Write in the first éšç€HTML5çš„è¿…é€Ÿå‘å±•ä¸æ—¥è¶‹æˆç†Ÿï¼Œè¶Šæ¥è¶Šå¤šçš„ç§»åŠ¨å¼€å‘è€…é€‰æ‹©ä½¿ç”¨HTML5æ¥è¿›è¡Œæ··åˆå¼€å‘ï¼Œä¸ä»…èŠ‚çº¦æˆæœ¬è€Œä¸”æ•ˆæœç»šä¸½ï¼Œåªæœ‰ä¸€ä¸ªæ„Ÿè§‰ Dï¼(æ­¤æ—¶é»˜é»˜ä¸‹å†³å¿ƒæˆ‘è¦å­¦ä¼šâ˜º)ã€‚ é‚£ä¹ˆä½œä¸ºå†…ç½®æµè§ˆå™¨çš„WebViewè¢«é‡è§†èµ·æ¥ï¼Œä¸ç®¡æ˜¯iOSè¿˜æ˜¯Androidï¼Œéƒ½è¦æ˜¯ä½¿ç”¨ WebView æ§ä»¶æ¥åŠ è½½HTML5é¡µé¢ï¼Œç”šè‡³æœ‰äº›ç¨‹åºæ‰“å¼€ååªæœ‰ä¸€ä¸ªWebView æ§ä»¶ï¼Œå…¶ä»–çš„é¡µé¢éƒ½æ˜¯è¢«">
<meta name="keywords" content="è¯‘æ–‡">
<meta property="og:type" content="article">
<meta property="og:title" content="iOS UIWebViewAppleè¯‘æ–‡">
<meta property="og:url" content="https://sunyonghui.github.io/AppleTranslation/UIWebViewApple.html">
<meta property="og:site_name" content="å››æ—¶äº”å‘³ï¼Œå†·æš–è‡ªçŸ¥">
<meta property="og:description" content="Write in the first éšç€HTML5çš„è¿…é€Ÿå‘å±•ä¸æ—¥è¶‹æˆç†Ÿï¼Œè¶Šæ¥è¶Šå¤šçš„ç§»åŠ¨å¼€å‘è€…é€‰æ‹©ä½¿ç”¨HTML5æ¥è¿›è¡Œæ··åˆå¼€å‘ï¼Œä¸ä»…èŠ‚çº¦æˆæœ¬è€Œä¸”æ•ˆæœç»šä¸½ï¼Œåªæœ‰ä¸€ä¸ªæ„Ÿè§‰ Dï¼(æ­¤æ—¶é»˜é»˜ä¸‹å†³å¿ƒæˆ‘è¦å­¦ä¼šâ˜º)ã€‚ é‚£ä¹ˆä½œä¸ºå†…ç½®æµè§ˆå™¨çš„WebViewè¢«é‡è§†èµ·æ¥ï¼Œä¸ç®¡æ˜¯iOSè¿˜æ˜¯Androidï¼Œéƒ½è¦æ˜¯ä½¿ç”¨ WebView æ§ä»¶æ¥åŠ è½½HTML5é¡µé¢ï¼Œç”šè‡³æœ‰äº›ç¨‹åºæ‰“å¼€ååªæœ‰ä¸€ä¸ªWebView æ§ä»¶ï¼Œå…¶ä»–çš„é¡µé¢éƒ½æ˜¯è¢«">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/2230763-92c9080cb8210143.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:updated_time" content="2017-07-15T01:41:13.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="iOS UIWebViewAppleè¯‘æ–‡">
<meta name="twitter:description" content="Write in the first éšç€HTML5çš„è¿…é€Ÿå‘å±•ä¸æ—¥è¶‹æˆç†Ÿï¼Œè¶Šæ¥è¶Šå¤šçš„ç§»åŠ¨å¼€å‘è€…é€‰æ‹©ä½¿ç”¨HTML5æ¥è¿›è¡Œæ··åˆå¼€å‘ï¼Œä¸ä»…èŠ‚çº¦æˆæœ¬è€Œä¸”æ•ˆæœç»šä¸½ï¼Œåªæœ‰ä¸€ä¸ªæ„Ÿè§‰ Dï¼(æ­¤æ—¶é»˜é»˜ä¸‹å†³å¿ƒæˆ‘è¦å­¦ä¼šâ˜º)ã€‚ é‚£ä¹ˆä½œä¸ºå†…ç½®æµè§ˆå™¨çš„WebViewè¢«é‡è§†èµ·æ¥ï¼Œä¸ç®¡æ˜¯iOSè¿˜æ˜¯Androidï¼Œéƒ½è¦æ˜¯ä½¿ç”¨ WebView æ§ä»¶æ¥åŠ è½½HTML5é¡µé¢ï¼Œç”šè‡³æœ‰äº›ç¨‹åºæ‰“å¼€ååªæœ‰ä¸€ä¸ªWebView æ§ä»¶ï¼Œå…¶ä»–çš„é¡µé¢éƒ½æ˜¯è¢«">
<meta name="twitter:image" content="http://upload-images.jianshu.io/upload_images/2230763-92c9080cb8210143.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":true,"scrollpercent":true},
    fancybox: true,
    motion: false,
    duoshuo: {
      userId: 'undefined',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



<script>
    (function(){
        if(''){
            if (prompt('è¯·è¾“å…¥æ–‡ç« å¯†ç ') !== ''){
                alert('å¯†ç é”™è¯¯ï¼');
                history.back();
            }
        }
    })();
</script>







  <link rel="canonical" href="https://sunyonghui.github.io/AppleTranslation/UIWebViewApple.html"/>





  <title> iOS UIWebViewAppleè¯‘æ–‡ | å››æ—¶äº”å‘³ï¼Œå†·æš–è‡ªçŸ¥ </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">å››æ—¶äº”å‘³ï¼Œå†·æš–è‡ªçŸ¥</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-guestbook">
          <a href="/guestbook" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-commenting"></i> <br />
            
            å…³äº
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            æœç´¢
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>










 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://sunyonghui.github.io/AppleTranslation/UIWebViewApple.html">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="æ— å‘³sh">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="å››æ—¶äº”å‘³ï¼Œå†·æš–è‡ªçŸ¥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="å››æ—¶äº”å‘³ï¼Œå†·æš–è‡ªçŸ¥" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                iOS UIWebViewAppleè¯‘æ–‡
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-04-21T00:00:00+08:00">
                2016-04-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/è¯‘æ–‡/" itemprop="url" rel="index">
                    <span itemprop="name">è¯‘æ–‡</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a class="cloud-tie-join-count" href="/AppleTranslation/UIWebViewApple.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count join-count" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/AppleTranslation/UIWebViewApple.html" class="leancloud_visitors" data-flag-title="iOS UIWebViewAppleè¯‘æ–‡">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Reading </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">




	<noscript>æ·»åŠ å­—æ•°ç»Ÿè®¡å’Œé˜…è¯»æ—¶é•¿</noscript>

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                  
                    <span class="post-meta-item-text">Count</span>
		    &nbsp;<i class="fa fa-heartbeat"></i>&nbsp;
                  
                    <span title="post.wordcount" }}">
                      3,156 W
                    </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                  
                    <span class="post-meta-item-text">Time</span>
		    &nbsp;<i class="fa fa-heartbeat"></i>&nbsp;
                  
                    <span title="post.min2read" }}">
                      16 M
                    </span>
              

	<noscript>æ·»åŠ å­—æ•°ç»Ÿè®¡å’Œé˜…è¯»æ—¶é•¿</noscript>



            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h4 id="Write-in-the-first"><a href="#Write-in-the-first" class="headerlink" title="Write in the first"></a>Write in the first</h4><hr>
<p>éšç€<code>HTML5</code>çš„è¿…é€Ÿå‘å±•ä¸æ—¥è¶‹æˆç†Ÿï¼Œè¶Šæ¥è¶Šå¤šçš„ç§»åŠ¨å¼€å‘è€…é€‰æ‹©ä½¿ç”¨<code>HTML5</code>æ¥è¿›è¡Œæ··åˆå¼€å‘ï¼Œä¸ä»…èŠ‚çº¦æˆæœ¬è€Œä¸”æ•ˆæœç»šä¸½ï¼Œåªæœ‰ä¸€ä¸ªæ„Ÿè§‰ Dï¼(æ­¤æ—¶é»˜é»˜ä¸‹å†³å¿ƒæˆ‘è¦å­¦ä¼šâ˜º)ã€‚</p>
<p>é‚£ä¹ˆä½œä¸ºå†…ç½®æµè§ˆå™¨çš„<code>WebView</code>è¢«é‡è§†èµ·æ¥ï¼Œä¸ç®¡æ˜¯<code>iOS</code>è¿˜æ˜¯<code>Android</code>ï¼Œéƒ½è¦æ˜¯ä½¿ç”¨ <code>WebView æ§ä»¶</code>æ¥åŠ è½½<code>HTML5</code>é¡µé¢ï¼Œç”šè‡³æœ‰äº›ç¨‹åºæ‰“å¼€ååªæœ‰ä¸€ä¸ª<code>WebView æ§ä»¶</code>ï¼Œå…¶ä»–çš„é¡µé¢éƒ½æ˜¯è¢«å®ƒåŠ è½½å‡ºæ¥ç½‘é¡µã€‚<br>åœ¨ã€Œæ—¶é—´ &amp; çŸ¥è¯† ã€æœ‰é™å†…ï¼Œæ€»ç»“çš„æ–‡ç« éš¾å…æœ‰ã€Œæœªå…¨ã€ä¸è¶³ ã€çš„åœ°æ–¹ï¼Œè¿˜æœ›å„ä½å¥½å‹æŒ‡å‡ºï¼Œä»¥æé«˜æ–‡ç« è´¨é‡ğŸ”ç™½å¼€æ°´lnã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2230763-92c9080cb8210143.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ï£¿"></p>
<h4 id="æ­£é¢˜"><a href="#æ­£é¢˜" class="headerlink" title="æ­£é¢˜"></a>æ­£é¢˜</h4><p>åœ¨è¿™é‡Œé¦–å…ˆé™„ä¸Šå®˜æ–¹åŸæ–‡åœ°å€ <a href="https://developer.apple.com/reference/uikit/uiwebview" target="_blank" rel="external">UIWebView Class</a></p>
<table>
<thead>
<tr>
<th style="text-align:center">Relationships</th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Inherits From UIView</td>
<td style="text-align:center">ç»§æ‰¿è‡ª: UIView</td>
</tr>
<tr>
<td style="text-align:center">Conforms To</td>
<td style="text-align:center">éµå®ˆ:<a href="">CVarArg</a>ã€<a href="">Equatable</a>ã€<a href="">Hashable</a>ã€<a href="">Equa NSCoding table</a>ã€<a href="">UIAccessibilityIdentification</a>ã€<a href="">UIScrollViewDelegate</a></td>
</tr>
<tr>
<td style="text-align:center">Framework</td>
<td style="text-align:center">iOS 2.0+</td>
</tr>
</tbody>
</table>
<h4 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h4><h4 id="UIWebView"><a href="#UIWebView" class="headerlink" title="UIWebView"></a>UIWebView</h4><blockquote>
<p>You can use the UIWebView class to embed web content in your app. To do so, create a UIWebView object, attach it to a window, and send it a request to load web content. You can also use this class to move back and forward in the history of webpages, and you can even set some web content properties programmatically.</p>
</blockquote>
<p>ä½ å¯ä»¥ä½¿ç”¨ <code>UIWebView</code> ç±»æ¥å°†ç½‘é¡µï¼ˆweb contentï¼‰åµŒå…¥åˆ°ä½ çš„ app ä¸­ã€‚ä¸ºæ­¤ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ª UIWebView å¯¹è±¡ï¼Œå°†å®ƒæ·»åŠ åˆ°ä¸€ä¸ª çª—ä½“ï¼ˆwindowï¼‰ ä¸Šï¼Œ ç„¶åç»™å®ƒå‘é€ä¸€ä¸ªè¯·æ±‚å»åŠ è½½ç½‘é¡µï¼ˆweb contentï¼‰ã€‚ä½ è¿˜å¯ä»¥ç”¨è¿™ä¸ªç±»åœ¨ç½‘é¡µæµè§ˆè®°å½•ä¸­åé€€å‰è¿›ï¼ˆmove back and forwardï¼‰ï¼Œç”šè‡³å¯ä»¥è®¾ç½®ä¸€äº›ç½‘é¡µå±æ€§ï¼ˆweb content propertiesï¼‰ã€‚</p>
<h4 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h4><blockquote>
<p>Note<br>In apps that run in iOS 8 and later, use the <code>WKWebView</code> class instead of using UIWebView. Additionally, consider setting the <code>WKPreferences</code> property <code>javaScriptEnabled</code> to <code>false</code> if you render files that are not supposed to run JavaScript.</p>
</blockquote>
<p>æ³¨æ„ï¼š<br>åœ¨åªæ”¯æŒiOS 8åŠä»¥åçš„ç³»ç»Ÿçš„ app ä¸­ï¼Œå»ºè®®ä½¿ç”¨<a href="https://developer.apple.com/reference/webkit/wkwebview" target="_blank" rel="external">WKWebView</a>ï¼Œè€Œä¸æ˜¯ <code>UIWebView</code> ã€‚å€¼å¾—æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå¦‚æœä½ è¦æ¸²æŸ“çš„æ–‡ä»¶ä¸æ”¯æŒè¿è¡Œ <code>JavaScript</code> çš„è¯ï¼Œä¸å¦¨å°† <a href="https://developer.apple.com/reference/webkit/wkpreferences" target="_blank" rel="external">WKPreferences</a>çš„<a href="https://developer.apple.com/reference/webkit/wkpreferences/1536203-javascriptenabled" target="_blank" rel="external">javaScriptEnabled</a> å±æ€§è®¾ä¸º NOã€‚</p>
<blockquote>
<p>Important<br>An iOS app linked on or after iOS 10.0 must include in its Info.plist file the usage description keys for the types of data it needs to access or it will crash. To access a userâ€™s photo data specifically, it must include  <code>NSPhotoLibraryUsageDescription</code> and <code>NSCameraUsageDescription</code>.</p>
</blockquote>
<p>é‡è¦ï¼š<br>iOSåº”ç”¨ç¨‹åºé“¾æ¥æˆ–ä¹‹åçš„iOS 10.0å¿…é¡»åŒ…æ‹¬åœ¨å…¶ä¿¡æ¯ã€‚plistæ–‡ä»¶ä½¿ç”¨æè¿°é”®ç±»å‹çš„æ•°æ®éœ€è¦è®¿é—®æˆ–å®ƒä¼šå´©æºƒã€‚è®¿é—®ç”¨æˆ·çš„ç…§ç‰‡æ•°æ®å…·ä½“åœ°è¯´,å®ƒå¿…é¡»åŒ…æ‹¬<a href="https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW17" target="_blank" rel="external">NSPhotoLibraryUsageDescription</a>å’Œ<a href="https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW24" target="_blank" rel="external">NSCameraUsageDescription</a>ã€‚</p>
<blockquote>
<p>Use the <code>loadHTMLString(_:baseURL:)</code> method to begin loading local HTML files or the <code>loadRequest(_:)</code> method to begin loading web content. Use the <code>stopLoading()</code> method to stop loading, and the <code>isLoading</code> property to find out if a web view is in the process of loading.</p>
</blockquote>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <a href="https://developer.apple.com/reference/uikit/uiwebview/1617979-loadhtmlstring" target="_blank" rel="external">loadHTMLString:baseURL:</a>  æ–¹æ³•æ¥åŠ è½½æœ¬åœ° HTML æ–‡ä»¶æˆ–è€…ç”¨ <a href="https://developer.apple.com/reference/uikit/uiwebview/1617957-loadrequest" target="_blank" rel="external">loadRequest:</a> æ–¹æ³•æ¥åŠ è½½ç½‘é¡µï¼ˆweb contentï¼‰ã€‚æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡è°ƒç”¨<a href="https://developer.apple.com/reference/uikit/uiwebview/1617974-stoploading" target="_blank" rel="external">stopLoading</a> æ–¹æ³•æ¥åœæ­¢åŠ è½½ï¼Œä»¥åŠé€šè¿‡è·å–å±æ€§ <a href="https://developer.apple.com/reference/uikit/uiwebview/1617978-isloading" target="_blank" rel="external">loading</a> çš„å€¼æ¥åˆ¤æ–­ä¸€ä¸ª web view æ˜¯å¦è¿˜å¤„äºæ­£åœ¨åŠ è½½çš„è¿‡ç¨‹ä¸­ã€‚</p>
<blockquote>
<p>If you allow the user to move back and forward through the webpage history, then you can use the <code>goBack()</code> and <code>goForward()</code> methods as actions for buttons. Use the <code>canGoBack</code> and <code>canGoForward</code> properties to disable the buttons when the user canâ€™t move in a direction.</p>
</blockquote>
<p>å¦‚æœä½ æƒ³è®©ç”¨æˆ·åœ¨æµè§ˆç½‘é¡µæ—¶å¯ä»¥å‰è¿›åé€€ï¼Œä½ å¯ä»¥é€šè¿‡ button çš„ action å¯¹<a href="https://developer.apple.com/reference/uikit/uiwebview/1617975-goback" target="_blank" rel="external">goBack</a> å’Œ<a href="https://developer.apple.com/reference/uikit/uiwebview/1617940-goforward" target="_blank" rel="external">goForward</a> æ–¹æ³•çš„è°ƒç”¨æ¥æ§åˆ¶ã€‚å½“ç”¨æˆ·ä¸èƒ½åœ¨æŸä¸€ä¸ªæ–¹å‘â€œç§»åŠ¨â€æ—¶ï¼Œéœ€è¦ä½¿ç”¨ <a href="https://developer.apple.com/reference/uikit/uiwebview/1617931-cangoback" target="_blank" rel="external">canGoBack</a> å’Œ <a href="https://developer.apple.com/reference/uikit/uiwebview/1617951-cangoforward" target="_blank" rel="external">canGoForward</a> å±æ€§æ¥ç¦ç”¨æŒ‰é’®çš„å‰è¿›åé€€æ“ä½œã€‚</p>
<blockquote>
<p>By default, a web view automatically converts telephone numbers that appear in web content to Phone links. When a Phone link is tapped, the Phone app launches and dials the number. To turn off this default behavior, set the <code>dataDetectorTypes</code> property with a <code>UIDataDetectorTypes</code> bitfield that does not contain the <code>phoneNumber</code> flag.</p>
</blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ª web view ä¼šè‡ªåŠ¨å°†ç½‘é¡µä¸­çš„ç”µè¯å·ç è½¬æˆä¸€ä¸ªå·ç é“¾æ¥ï¼ˆPhone linksï¼‰ã€‚å½“ç”¨æˆ·åœ¨ç‚¹å‡»é‚£ä¸ªé“¾æ¥ï¼ˆPhone linksï¼‰æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¯åŠ¨ Phone app å¹¶æ‹¨æ‰“é‚£ä¸ªç”µè¯å·ç ã€‚ä½ å¯ä»¥å°†å±æ€§ <a href="https://developer.apple.com/reference/uikit/uiwebview/1617965-datadetectortypes" target="_blank" rel="external">dataDetectorTypes</a> çš„å€¼è®¾ç½®ä¸ºä¸€ä¸ª <a href="https://developer.apple.com/reference/uikit/uidatadetectortypes" target="_blank" rel="external">UIDataDetectorTypes</a> ä½å­—æ®µæ¥å…³é—­è¿™ä¸ªç”µè¯å·ç è¯†åˆ«è¡Œä¸ºï¼Œå› ä¸ºUIDataDetectorTypesä¸åŒ…æ‹¬ <a href="https://developer.apple.com/reference/uikit/uidatadetectortypes/1618507-phonenumber" target="_blank" rel="external">TypePhoneNumber</a> è¿™ä¸ªæ ‡å¿—ä½ã€‚</p>
<blockquote>
<p>You can also use the <code>scalesPageToFit</code> property to programmatically set the scale of web content the first time it is displayed in a web view. Thereafter, the user can change the scale using gestures.</p>
</blockquote>
<p>ä½ å¯ä»¥é€šè¿‡è®¾ç½® <a href="https://developer.apple.com/reference/uikit/uiwebview/1617950-scalespagetofit" target="_blank" rel="external">scalesPageToFit</a> å±æ€§æ¥è®¾ç½®ç½‘é¡µï¼ˆweb contentï¼‰ç¬¬ä¸€æ¬¡å±•ç¤ºåœ¨ä¸€ä¸ª web view ä¸­çš„é¡µé¢æ¯”ä¾‹ã€‚ä½†ä»…ä»…è¿™ä¸ªå±æ€§åªåœ¨é¦–æ¬¡å±•ç¤ºæ—¶æœ‰æ•ˆï¼Œé¦–æ¬¡å±•ç¤ºä¹‹åç”¨æˆ·ä»ç„¶å¯ä»¥é€šè¿‡æ‰‹åŠ¿æ”¹å˜é¡µé¢æ¯”ä¾‹ã€‚</p>
<blockquote>
<p>Set the <code>delegate</code> property to an object conforming to the UIWebViewDelegate protocol if you want to track the loading of web content.</p>
</blockquote>
<p>å¦‚æœä½ æƒ³è¿½è¸ªç½‘é¡µå†…å®¹ï¼ˆweb contentï¼‰çš„åŠ è½½ï¼Œä½ éœ€è¦å°† web view çš„ <a href="https://developer.apple.com/reference/uikit/uiwebview/1617937-delegate" target="_blank" rel="external">delegate</a> å±æ€§èµ‹ç»™ä¸€ä¸ªéµå®ˆ <a href="https://developer.apple.com/reference/uikit/uiwebviewdelegate" target="_blank" rel="external">UIWebViewDelegate</a> åè®®çš„å¯¹è±¡ã€‚</p>
<blockquote>
<p>Important<br>You should not embed UIWebView or <code>UITableView</code> objects in <code>UIScrollView</code> objects. If you do so, unexpected behavior can result because touch events for the two objects can be mixed up and wrongly handled.</p>
</blockquote>
<p>é‡è¦ï¼š<br>ä¸è¦å°† UIWebView æˆ– <a href="https://developer.apple.com/reference/uikit/uitableview" target="_blank" rel="external">UITableView</a> å¯¹è±¡åµŒå…¥åˆ° <a href="https://developer.apple.com/reference/uikit/uiscrollview" target="_blank" rel="external">UIScrollView</a> å¯¹è±¡ä¸­ã€‚å¦‚æœä½ è¿™ä¹ˆåšäº†ï¼Œå°†ä¼šå¯¼è‡´ä¸€äº›æ„æƒ³ä¸åˆ°çš„ç»“æœï¼Œå› ä¸ºé‚£ä¸¤ä¸ªåµŒå¥—çš„ view çš„ touch äº‹ä»¶ä¼šè¢«æ··æ·†å¹¶ä¸”ä¼šè¢«é”™è¯¯åœ°å¤„ç†ã€‚</p>
<blockquote>
<p>You can easily debug the HTML, CSS, and JavaScript contained inside a UIWebView with Web Inspector. Read Debugging Web Content on iOS to learn how to configure Web Inspector for iOS. Read the rest of <code>Safari Web Content Guide</code> to learn how to create web content that is optimized for Safari on iPhone and iPad.</p>
<p>For information about basic view behaviors, see <code>View Programming Guide for iOS</code>.</p>
</blockquote>
<p>å€ŸåŠ© Web Inspectorï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è°ƒè¯•ä¸€ä¸ª UIWebView ä¸­çš„HTMLï¼ŒCSS å’Œ JavaScriptã€‚ä½ å¯ä»¥é€šè¿‡é˜…è¯» Debugging Web Content on iOS æ¥å­¦ä¹ å¦‚ä½•é…ç½® Web Inspector for iOSã€‚ä½ è¿˜å¯ä»¥é€šè¿‡é˜…è¯» <a href="https://developer.apple.com/library/content/documentation/AppleApplications/Reference/SafariWebContent/Introduction/Introduction.html#//apple_ref/doc/uid/TP40002051" target="_blank" rel="external">Safari Web Content Guide</a> çš„å…¶ä½™éƒ¨åˆ†ï¼Œæ¥å­¦ä¹ å¦‚ä½•åˆ›å»ºä¸€ä¸ªä¸º iPhone å’Œ iPad ä¸Šçš„ Safari è€Œä¼˜åŒ–çš„ç½‘é¡µï¼ˆweb contentï¼‰ã€‚</p>
<p>å¦‚æœä½ æƒ³äº†è§£ä¸€äº›å…³äºåŸºæœ¬çš„ view çš„çŸ¥è¯†ï¼Œä¸å¦¨çœ‹ä¸€ä¸‹View <a href="https://developer.apple.com/library/content/documentation/WindowsViews/Conceptual/ViewPG_iPhoneOS/Introduction/Introduction.html#//apple_ref/doc/uid/TP40009503" target="_blank" rel="external">Programming Guide for iOS</a> ã€‚</p>
<hr>
<h4 id="Supported-File-Formats"><a href="#Supported-File-Formats" class="headerlink" title="Supported File Formats"></a>Supported File Formats</h4><p>æ”¯æŒçš„æ–‡ä»¶æ ¼å¼</p>
<blockquote>
<p>In addition to HTML content, UIWebView objects can be used to display other content types, such as Keynote, PDF, and Pages documents. For the best rendering of plain and rich text in your app, however, you should use <code>UITextView</code> instead.</p>
</blockquote>
<p>é™¤äº† HTML å†…å®¹ä¹‹å¤–ï¼ŒUIWebView å¯¹è±¡è¿˜å¯ä»¥è¢«ç”¨æ¥å±•ç¤ºå…¶ä»–æ ¼å¼çš„å†…å®¹ï¼Œæ¯”å¦‚ï¼ŒKeynoteï¼ŒPDFï¼ŒPagesæ–‡ä»¶ç­‰ã€‚ä¸ºäº†èƒ½å¤Ÿä¿è¯æ–‡æœ¬ï¼ˆplain and rich textï¼‰æ¸²æŸ“çš„æœ€ä½³æ•ˆæœï¼Œå»ºè®®ä½¿ç”¨ <a href="https://developer.apple.com/reference/uikit/uitextview#//apple_ref/occ/cl/UITextView" target="_blank" rel="external">UITextView</a>ã€‚</p>
<h4 id="State-Preservation"><a href="#State-Preservation" class="headerlink" title="State Preservation"></a>State Preservation</h4><p>çŠ¶æ€ä¿å­˜</p>
<blockquote>
<p>In iOS 6 and later, if you assign a value to this viewâ€™s <code>restorationIdentifier</code> property, it attempts to preserve its URL history, the scaling and scrolling positions for each page, and information about which page is currently being viewed. During restoration, the view restores these values so that the web content appears just as it did before. For more information about how state preservation and restoration works, see <code>App Programming Guide for iOS</code>.</p>
</blockquote>
<p>åœ¨iOS 6åŠä»¥åç‰ˆæœ¬çš„ç³»ç»Ÿä¸­ï¼Œå¦‚æœä½ ç»™ web view çš„ <a href="https://developer.apple.com/reference/uikit/uiviewcontroller/1621499-restorationidentifier" target="_blank" rel="external">restorationIdentifier</a> å±æ€§èµ‹ä¸€ä¸ªå€¼ï¼Œå®ƒå°†ä¼šä¸ºæ¯ä¸€é¡µä¿å­˜å®ƒçš„ URL å†å²ï¼Œç¼©æ”¾æ¯”ä¾‹å’Œæ»šåŠ¨ä½ç½®ï¼Œä»¥åŠå½“å‰æ­£åœ¨æŸ¥çœ‹çš„ç½‘é¡µä¿¡æ¯ã€‚åœ¨æ¢å¤ï¼ˆ restorationï¼‰è¿‡ç¨‹ä¸­ï¼Œé‚£ä¸ª view ä¼šå¤åŸï¼ˆ restoreï¼‰è¿™äº›å€¼ï¼Œå› æ­¤é‚£ä¸ªç½‘é¡µï¼ˆweb contentï¼‰çœ‹èµ·æ¥å°±åƒå®ƒä¹‹å‰çš„æ ·å­ä¸€æ ·ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºçŠ¶æ€ä¿å­˜å’Œæ¢å¤æ˜¯å¦‚ä½•è¿ä½œçš„ä¿¡æ¯ï¼Œä¸å¦¨è¯»ä¸€è¯» <a href="https://developer.apple.com/library/content/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40007072" target="_blank" rel="external">App Programming Guide for iOS</a>ã€‚</p>
<blockquote>
<p>For more information about appearance and behavior configuration, see <code>Web Views</code>.</p>
</blockquote>
<p>æ›´å¤šå…³äºå¤–è§‚å’Œè¡Œä¸ºé…ç½®çš„ä¿¡æ¯ï¼Œè¯·çœ‹ <a href="https://developer.apple.com/library/content/documentation/UserExperience/Conceptual/UIKitUICatalog/UIWebView.html#//apple_ref/doc/uid/TP40012857-UIWebView" target="_blank" rel="external">Web Views</a>ã€‚</p>
<h4 id="Subclassing-Notes"><a href="#Subclassing-Notes" class="headerlink" title="Subclassing Notes"></a>Subclassing Notes</h4><p>å…³äºç»§æ‰¿</p>
<blockquote>
<p>The UIWebView class should not be subclassed.</p>
</blockquote>
<p>UIWebView ä¸åº”è¯¥è¢«ç»§æ‰¿ã€‚</p>
<hr>
<h4 id="Symbols"><a href="#Symbols" class="headerlink" title="Symbols"></a>Symbols</h4><h5 id="Setting-the-Delegate"><a href="#Setting-the-Delegate" class="headerlink" title="Setting the Delegate"></a>Setting the Delegate</h5><p>è®¾ç½®ä»£ç†</p>
<blockquote>
<p>var <code>delegate</code>: UIWebViewDelegate?<br>The receiverâ€™s delegate.</p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="keyword">id</span>&lt; <span class="built_in">UIWebViewDelegate</span> &gt; delegate</div></pre></td></tr></table></figure>
<blockquote>
<p>The delegate is sent messages when content is loading. See <code>UIWebViewDelegate</code> for the optional methods this delegate may implement.</p>
<p>Important<br>Before releasing an instance of UIWebView for which you have set a delegate, you must first set its delegate property to nil. This can be done, for example, in your dealloc method.</p>
</blockquote>
<p>é‡è¦ï¼š<br>åœ¨é‡Šæ”¾ä¸€ä¸ªä½ å·²ç»ä¸ºå…¶è®¾è¿‡ delegate çš„ UIWebView å®ä¾‹ä¹‹å‰ï¼Œä½ é¦–å…ˆä¸€å®šè¦å°†è¯¥ UIWebView å¯¹è±¡çš„ delegate å±æ€§è®¾ä¸º nilã€‚æ¯”å¦‚è¯´ï¼Œä½ å¯ä»¥åœ¨ä½ çš„ dealloc æ–¹æ³•ä¸­è¿™æ ·åšã€‚</p>
<h5 id="Loading-Content"><a href="#Loading-Content" class="headerlink" title="Loading Content"></a>Loading Content</h5><p>åŠ è½½å†…å®¹<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">func load(Data, mimeType: String, textEncodingName: String, baseURL: URL)</div><div class="line">Sets the main page contents, MIME type, content encoding, and base URL.</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)loadData:(<span class="built_in">NSData</span> *)data</div><div class="line">            MIMEType:(<span class="built_in">NSString</span> *)MIMEType</div><div class="line">    textEncodingName:(<span class="built_in">NSString</span> *)encodingName</div><div class="line">             baseURL:(<span class="built_in">NSURL</span> *)baseURL;</div></pre></td></tr></table></figure></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">func loadHTMLString(String, baseURL: URL?)</div><div class="line">Sets the main page content and base URL.</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)loadHTMLString:(<span class="built_in">NSString</span> *)string</div><div class="line">                   baseURL:(<span class="built_in">NSURL</span> *)baseURL;</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">func loadRequest(URLRequest)</div><div class="line">Connects to a given URL by initiating an asynchronous client request.</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)loadRequest:(<span class="built_in">NSURLRequest</span> *)request;</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var request: URLRequest?</div><div class="line">The URL request identifying the location of the content to load.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>, <span class="keyword">strong</span>) <span class="built_in">NSURLRequest</span> *request;</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var isLoading: Bool</div><div class="line">A Boolean value indicating whether the receiver is done loading content.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>, <span class="keyword">getter</span>=isLoading) <span class="built_in">BOOL</span> loading;</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">func stopLoading()</div><div class="line">Stops the loading of any web content managed by the receiver.</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)stopLoading;</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">func reload()</div><div class="line">Reloads the current page.</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)reload;</div></pre></td></tr></table></figure>
<h5 id="Moving-Back-and-Forward"><a href="#Moving-Back-and-Forward" class="headerlink" title="Moving Back and Forward"></a>Moving Back and Forward</h5><p>åé€€å‰è¿›<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var canGoBack: Bool</div><div class="line">A Boolean value indicating whether the receiver can move backward.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>, <span class="keyword">getter</span>=canGoBack) <span class="built_in">BOOL</span> canGoBack;</div></pre></td></tr></table></figure></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var canGoForward: Bool</div><div class="line">A Boolean value indicating whether the receiver can move forward.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>, <span class="keyword">getter</span>=canGoForward) <span class="built_in">BOOL</span> canGoForward;</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">func goBack()</div><div class="line">Loads the previous location <span class="keyword">in</span> the back-forward list.</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)goBack;</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">func goForward()</div><div class="line">Loads the next location <span class="keyword">in</span> the back-forward list.</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)goForward;</div></pre></td></tr></table></figure>
<h5 id="Setting-Web-Content-Properties"><a href="#Setting-Web-Content-Properties" class="headerlink" title="Setting Web Content Properties"></a>Setting Web Content Properties</h5><p>å†…å®¹ç›¸å…³å±æ€§çš„è®¾ç½®</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var allowsLinkPreview: Bool</div><div class="line">A Boolean value that determines whether pressing on a link displays a preview of the destination <span class="keyword">for</span> the link.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> allowsLinkPreview;</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var scalesPageToFit: Bool</div><div class="line">A Boolean value determining whether the webpage scales to fit the view and the user can change the scale.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> scalesPageToFit;</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var scrollView: <span class="built_in">UIScrollView</span></div><div class="line">The scroll view associated with the web view.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>, <span class="keyword">strong</span>) <span class="built_in">UIScrollView</span> *scrollView;</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var suppressesIncrementalRendering: Bool</div><div class="line">A Boolean value indicating whether the web view suppresses content rendering until it is fully loaded into memory.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> suppressesIncrementalRendering;</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var keyboardDisplayRequiresUserAction: Bool</div><div class="line">A Boolean value indicating whether web content can programmatically display the keyboard.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> keyboardDisplayRequiresUserAction;</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var dataDetectorTypes: <span class="built_in">UIDataDetectorTypes</span></div><div class="line">The types of data converted to clickable URLs <span class="keyword">in</span> the web viewâ€™s content.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">UIDataDetectorTypes</span> dataDetectorTypes;</div></pre></td></tr></table></figure>
<h5 id="Running-JavaScript"><a href="#Running-JavaScript" class="headerlink" title="Running JavaScript"></a>Running JavaScript</h5><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">func stringByEvaluatingJavaScript(from: String)</div><div class="line">Returns the result of running a JavaScript script. Although <span class="keyword">this</span> method is not deprecated, best practice is to use the evaluateJavaScript(_:completionHandler:) method of the <span class="built_in">WKWebView</span> <span class="keyword">class</span> instead.</div><div class="line"></div><div class="line">- (<span class="built_in">NSString</span> *)stringByEvaluatingJavaScriptFromString:(<span class="built_in">NSString</span> *)script;</div></pre></td></tr></table></figure>
<h5 id="Managing-Media-Playback"><a href="#Managing-Media-Playback" class="headerlink" title="Managing Media Playback"></a>Managing Media Playback</h5><p>å¤šåª’ä½“æ’­æ”¾<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var allowsInlineMediaPlayback: Bool</div><div class="line">A Boolean value that determines whether HTML5 videos play <span class="keyword">inline</span> or use the native full-screen controller.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> allowsInlineMediaPlayback;</div></pre></td></tr></table></figure></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var mediaPlaybackRequiresUserAction: Bool</div><div class="line">A Boolean value that determines whether HTML5 videos can play automatically or require the user to start playing them.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> mediaPlaybackRequiresUserAction;</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var mediaPlaybackAllowsAirPlay: Bool</div><div class="line">A Boolean value that determines whether Air Play is allowed from <span class="keyword">this</span> view.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> mediaPlaybackAllowsAirPlay;</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var allowsPictureInPictureMediaPlayback: Bool</div><div class="line">A Boolean value that determines whether Picture <span class="keyword">in</span> Picture playback is allowed from <span class="keyword">this</span> view.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> allowsPictureInPictureMediaPlayback;</div></pre></td></tr></table></figure>
<h5 id="Managing-Pages"><a href="#Managing-Pages" class="headerlink" title="Managing Pages"></a>Managing Pages</h5><p>é¡µé¢è®¾ç½®<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var gapBetweenPages: <span class="built_in">CGFloat</span></div><div class="line">The size of the gap, <span class="keyword">in</span> points, between pages.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> gapBetweenPages;</div></pre></td></tr></table></figure></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var pageCount: Int</div><div class="line">The number of pages produced by the layout of the web view.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">NSUInteger</span> pageCount;</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var pageLength: <span class="built_in">CGFloat</span></div><div class="line">The size of each page, <span class="keyword">in</span> points, <span class="keyword">in</span> the direction that the pages flow.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> pageLength;</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var paginationBreakingMode: <span class="built_in">UIWebPaginationBreakingMode</span></div><div class="line">The manner <span class="keyword">in</span> which column- or page-breaking occurs.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">UIWebPaginationBreakingMode</span> paginationBreakingMode;</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var paginationMode: <span class="built_in">UIWebPaginationMode</span></div><div class="line">The layout of content <span class="keyword">in</span> the web view.</div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">UIWebPaginationMode</span> paginationMode;</div></pre></td></tr></table></figure>
<h5 id="æœ€åé™„ä¸Š-UIWebView-h"><a href="#æœ€åé™„ä¸Š-UIWebView-h" class="headerlink" title="æœ€åé™„ä¸Š UIWebView.h"></a>æœ€åé™„ä¸Š <a href="">UIWebView.h</a></h5><p>ä½œä¸ºä¸€æšæˆé•¿ä¸­çš„èœé¸Ÿï¼Œåˆ†äº«å’Œå¼€æºç²¾ç¥ï¼Œè¿˜æ˜¯å€¼å¾—å…·å¤‡çš„ã€‚<br>å¦‚æœâ€¦<br>æˆ‘æ˜¯è¯´å¦‚æœï¼Œå¯ä»¥å…³æ³¨ä¸‹ <strong>GitHub</strong><br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//  UIWebView.h</span></div><div class="line"><span class="comment">//  UIKit</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//  Copyright (c) 2007-2015 Apple Inc. All rights reserved.</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIView.h&gt;</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIKitDefines.h&gt;</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIDataDetectors.h&gt;</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIScrollView.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="built_in">NS_ASSUME_NONNULL_BEGIN</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="built_in">NS_ENUM</span>(<span class="built_in">NSInteger</span>, <span class="built_in">UIWebViewNavigationType</span>) &#123;</div><div class="line"><span class="built_in">UIWebViewNavigationTypeLinkClicked</span>,</div><div class="line"><span class="built_in">UIWebViewNavigationTypeFormSubmitted</span>,</div><div class="line"><span class="built_in">UIWebViewNavigationTypeBackForward</span>,</div><div class="line"><span class="built_in">UIWebViewNavigationTypeReload</span>,</div><div class="line"><span class="built_in">UIWebViewNavigationTypeFormResubmitted</span>,</div><div class="line"><span class="built_in">UIWebViewNavigationTypeOther</span></div><div class="line">&#125; __TVOS_PROHIBITED;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="built_in">NS_ENUM</span>(<span class="built_in">NSInteger</span>, <span class="built_in">UIWebPaginationMode</span>) &#123;</div><div class="line"><span class="built_in">UIWebPaginationModeUnpaginated</span>,</div><div class="line"><span class="built_in">UIWebPaginationModeLeftToRight</span>,</div><div class="line"><span class="built_in">UIWebPaginationModeTopToBottom</span>,</div><div class="line"><span class="built_in">UIWebPaginationModeBottomToTop</span>,</div><div class="line"><span class="built_in">UIWebPaginationModeRightToLeft</span></div><div class="line">&#125; __TVOS_PROHIBITED;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="built_in">NS_ENUM</span>(<span class="built_in">NSInteger</span>, <span class="built_in">UIWebPaginationBreakingMode</span>) &#123;</div><div class="line"><span class="built_in">UIWebPaginationBreakingModePage</span>,</div><div class="line"><span class="built_in">UIWebPaginationBreakingModeColumn</span></div><div class="line">&#125; __TVOS_PROHIBITED;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@class</span> <span class="title">UIWebViewInternal</span>;</span></div><div class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">UIWebViewDelegate</span>;</span></div><div class="line"></div><div class="line"><span class="built_in">NS_CLASS_AVAILABLE_IOS</span>(<span class="number">2</span>_0) __TVOS_PROHIBITED <span class="class"><span class="keyword">@interface</span> <span class="title">UIWebView</span> : <span class="title">UIView</span> &lt;<span class="title">NSCoding</span>, <span class="title">UIScrollViewDelegate</span>&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nullable</span>, <span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="keyword">id</span> &lt;<span class="built_in">UIWebViewDelegate</span>&gt; delegate;</div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>, <span class="keyword">strong</span>) <span class="built_in">UIScrollView</span> *scrollView <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">5</span>_0);</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)loadRequest:(<span class="built_in">NSURLRequest</span> *)request;</div><div class="line">- (<span class="keyword">void</span>)loadHTMLString:(<span class="built_in">NSString</span> *)string baseURL:(<span class="keyword">nullable</span> <span class="built_in">NSURL</span> *)baseURL;</div><div class="line">- (<span class="keyword">void</span>)loadData:(<span class="built_in">NSData</span> *)data MIMEType:(<span class="built_in">NSString</span> *)MIMEType textEncodingName:(<span class="built_in">NSString</span> *)textEncodingName baseURL:(<span class="built_in">NSURL</span> *)baseURL;</div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nullable</span>, <span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>, <span class="keyword">strong</span>) <span class="built_in">NSURLRequest</span> *request;</div><div class="line"></div><div class="line"><span class="comment">// é‡æ–°åŠ è½½ï¼ˆåˆ·æ–°ï¼‰</span></div><div class="line">- (<span class="keyword">void</span>)reload;</div><div class="line"><span class="comment">// åœæ­¢åŠ è½½</span></div><div class="line">- (<span class="keyword">void</span>)stopLoading;</div><div class="line"></div><div class="line"><span class="comment">// å›é€€</span></div><div class="line">- (<span class="keyword">void</span>)goBack;</div><div class="line"> </div><div class="line"><span class="comment">// å‰è¿›</span></div><div class="line">- (<span class="keyword">void</span>)goForward;</div><div class="line"></div><div class="line"><span class="comment">// æ˜¯å¦èƒ½å›é€€</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>, <span class="keyword">getter</span>=canGoBack) <span class="built_in">BOOL</span> canGoBack;</div><div class="line"><span class="comment">// æ˜¯å¦èƒ½å‰è¿›</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>, <span class="keyword">getter</span>=canGoForward) <span class="built_in">BOOL</span> canGoForward;</div><div class="line"> </div><div class="line"><span class="comment">// æ˜¯å¦æ­£åœ¨åŠ è½½ä¸­</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>, <span class="keyword">getter</span>=isLoading) <span class="built_in">BOOL</span> loading;</div><div class="line"></div><div class="line"><span class="comment">// åœ¨OCä¸­è°ƒç”¨JavaScriptä»£ç </span></div><div class="line">- (<span class="keyword">nullable</span> <span class="built_in">NSString</span> *)stringByEvaluatingJavaScriptFromString:(<span class="built_in">NSString</span> *)script;</div><div class="line"></div><div class="line"><span class="comment">// æ˜¯å¦ä¼¸ç¼©å†…å®¹è‡³é€‚åº”å±å¹•å½“å‰å°ºå¯¸</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> scalesPageToFit;</div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> detectsPhoneNumbers <span class="built_in">NS_DEPRECATED_IOS</span>(<span class="number">2</span>_0, <span class="number">3</span>_0);</div><div class="line"> </div><div class="line"><span class="comment">// éœ€è¦è¿›è¡Œæ£€æµ‹çš„æ•°æ®ç±»å‹</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">UIDataDetectorTypes</span> dataDetectorTypes <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">3</span>_0);</div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> allowsInlineMediaPlayback <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">4</span>_0); <span class="comment">// iPhone Safari defaults to NO. iPad Safari defaults to YES</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> mediaPlaybackRequiresUserAction <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">4</span>_0); <span class="comment">// iPhone and iPad Safari both default to YES</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> mediaPlaybackAllowsAirPlay <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">5</span>_0); <span class="comment">// iPhone and iPad Safari both default to YES</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> suppressesIncrementalRendering <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">6</span>_0); <span class="comment">// iPhone and iPad Safari both default to NO</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> keyboardDisplayRequiresUserAction <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">6</span>_0); <span class="comment">// default is YES</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">UIWebPaginationMode</span> paginationMode <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">7</span>_0);</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">UIWebPaginationBreakingMode</span> paginationBreakingMode <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">7</span>_0);</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> pageLength <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">7</span>_0);</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> gapBetweenPages <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">7</span>_0);</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">NSUInteger</span> pageCount <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">7</span>_0);</div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> allowsPictureInPictureMediaPlayback <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">9</span>_0);</div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> allowsLinkPreview <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">9</span>_0); <span class="comment">// default is NO</span></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line">__TVOS_PROHIBITED <span class="class"><span class="keyword">@protocol</span> <span class="title">UIWebViewDelegate</span> &lt;<span class="title">NSObject</span>&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">@optional</span></div><div class="line"><span class="comment">// UIWebViewåœ¨å‘é€è¯·æ±‚ä¹‹å‰ï¼Œéƒ½ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¦‚æœè¿”å›NOï¼Œä»£è¡¨åœæ­¢åŠ è½½è¯·æ±‚ï¼Œè¿”å›YESï¼Œä»£è¡¨å…è®¸åŠ è½½è¯·æ±‚</span></div><div class="line">- (<span class="built_in">BOOL</span>)webView:(<span class="built_in">UIWebView</span> *)webView shouldStartLoadWithRequest:(<span class="built_in">NSURLRequest</span> *)request navigationType:(<span class="built_in">UIWebViewNavigationType</span>)navigationType;</div><div class="line"> </div><div class="line"><span class="comment">// å¼€å§‹å‘é€è¯·æ±‚ï¼ˆåŠ è½½æ•°æ®ï¼‰æ—¶è°ƒç”¨è¿™ä¸ªæ–¹æ³•</span></div><div class="line">- (<span class="keyword">void</span>)webViewDidStartLoad:(<span class="built_in">UIWebView</span> *)webView;</div><div class="line"> </div><div class="line"><span class="comment">// è¯·æ±‚å®Œæ¯•ï¼ˆåŠ è½½æ•°æ®å®Œæ¯•ï¼‰æ—¶è°ƒç”¨è¿™ä¸ªæ–¹æ³•</span></div><div class="line">- (<span class="keyword">void</span>)webViewDidFinishLoad:(<span class="built_in">UIWebView</span> *)webView;</div><div class="line"> </div><div class="line"><span class="comment">// è¯·æ±‚é”™è¯¯æ—¶è°ƒç”¨è¿™ä¸ªæ–¹æ³•</span></div><div class="line">- (<span class="keyword">void</span>)webView:(<span class="built_in">UIWebView</span> *)webView didFailLoadWithError:(<span class="built_in">NSError</span> *)error;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="built_in">NS_ASSUME_NONNULL_END</span></div></pre></td></tr></table></figure></p>
<hr>
<hr>
<p>ã€@ç å‘˜çœŸçˆ± : çœŸçš„ä¸ç‚¹è¿›å»é˜…è¯»ä¸€ä¸‹ â“ã€‘<br>ã€<a href="https://github.com/CustomPBWaters/Apple-OfficialTranslation-SourceAnnotation" target="_blank" rel="external">è¯‘æ–‡ &amp; æºç </a>ã€‘   ã€<a href="https://github.com/CustomPBWaters/Framework-Annotations-Tools" target="_blank" rel="external">å·¥å…·ç±»</a>ã€‘</p>
<h4 id="æœŸå¾…"><a href="#æœŸå¾…" class="headerlink" title="æœŸå¾…"></a>æœŸå¾…</h4><hr>
<ul>
<li><p>å¦‚æœåœ¨é˜…è¯»è¿‡ç¨‹ä¸­é‡åˆ° error || new ideasï¼Œå¸Œæœ›ä½ èƒ½ messages æˆ‘ï¼Œæˆ‘ä¼šåŠæ—¶æ”¹æ­£è°¢è°¢ã€‚</p>
</li>
<li><p>å¯¹è¯¥æ¨¡å—<a href="https://github.com/CustomPBWaters/Framework-Annotations-Tools/blob/master/æ”¶å½•%20%26%20æŠ•ç¨¿é¡»çŸ¥.md" target="_blank" rel="external">æˆ‘ä¼š</a> ä¸å®šæ—¶ã€æŒç»­ã€æ›´æ–°ä¸€äº› å­¦ä¹ å¿ƒå¾—ä¸æ–‡ç« ã€å®ç”¨æ‰æ˜¯ç¡¬é“ç† ^_^. ã€‚</p>
</li>
<li><p>ç‚¹å‡»å³ä¸Šè§’çš„ å–œæ¬¢ å’Œ è®¢é˜…Rss æŒ‰é’®ï¼Œå¯ä»¥æ”¶è—æœ¬ä»“åº“ï¼Œå¹¶åœ¨ Demo æ›´æ–°æ—¶æ”¶åˆ°é‚®ä»¶é€šçŸ¥ã€‚</p>
</li>
</ul>

      
    </div>


    <noscript>æ·»åŠ â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®°</noscript>
    <div>
      
        

<div style="text-align:center; color:#ccc; font-size:16px; ">
 â„ï¸  æœ¬æ–‡ç»“æŸ
 &nbsp;<i class="fa fa-coffee"></i>&nbsp; 
 æ„Ÿè°¢é˜…è¯» ^_^.  â„ï¸   
</div>

<div style="text-align:center; color:#ccc; font-size:16px; ">
 ğŸ‘ At this time suggest 1 minute eye exercises 
</div>




      
    </div>
    <noscript>æ·»åŠ â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®°</noscript>


 

    <noscript>ç‰ˆæƒ</noscript>
    <div>
      
        
<div class="my_post_copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

  <!-- JSåº“ sweetalert å¯ä¿®æ”¹è·¯å¾„ -->
  <script type="text/javascript" src="http://jslibs.wuxubj.cn/sweetalert_mini/jquery-1.7.1.min.js"></script>
  <script src="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.min.js"></script>
  <link rel="stylesheet" type="text/css" href="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.mini.css">
  <p><span>æœ¬æ–‡æ ‡é¢˜:</span><a href="/AppleTranslation/UIWebViewApple.html">iOS UIWebViewAppleè¯‘æ–‡</a></p>
  <p><span>æ–‡ç« ä½œè€…:</span><a href="/" title="è®¿é—® æ— å‘³sh çš„ä¸ªäººåšå®¢">æ— å‘³sh</a></p>
  <p><span>åŸå§‹é“¾æ¥:</span><a href="/AppleTranslation/UIWebViewApple.html" title="iOS UIWebViewAppleè¯‘æ–‡">https://sunyonghui.github.io/AppleTranslation/UIWebViewApple.html</a>
    <span class="copy-path"  title="ç‚¹å‡»å¤åˆ¶æ–‡ç« é“¾æ¥"><i class="fa fa-clipboard" data-clipboard-text="https://sunyonghui.github.io/AppleTranslation/UIWebViewApple.html"  aria-label="å¤åˆ¶æˆåŠŸï¼"></i></span>
  </p>
  <p><span>ç‰ˆæƒå£°æ˜:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…</a> æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–å‡ä¸ºåŸåˆ›ï¼Œè½¬è½½è¯·åœ¨æ–‡ç« å¼€å¤´ä½ç½®æ³¨æ˜æ ¼å¼ã€ŒåŸæ–‡é“¾æ¥ - ä½œè€… - ä¿®æ”¹(å¦‚æœ‰æŒ‡å‡ºæŸéƒ¨åˆ†)ã€ï¼Œå¹¶é€šè¿‡E-mailç­‰æ–¹å¼å‘ŠçŸ¥ï¼Œè°¢è°¢åˆä½œï¼</p>  
</div>
<script> 
    var clipboard = new Clipboard('.fa-clipboard');
    clipboard.on('success', $(function(){
      $(".fa-clipboard").click(function(){
        swal({   
          title: "",   
          text: 'å¤åˆ¶æˆåŠŸ',   
          html: false,
          timer: 500,   
          showConfirmButton: false
        });
      });
    }));  
</script>

 
      
    </div>
    <noscript>ç‰ˆæƒ</noscript>


    <div>
      
        

      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>ã€Œæ”¯æŒä¸è¦è¶…è¿‡ä½ æ—©é¤è´¹çš„ 0.5ã€ ^_^.</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>èµ</span>
    </button>
    <div id="QR" style="display: none;">
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="/uploads/money/alipay.jpg" alt="æ— å‘³sh Alipay"/>
          <p>æ”¯Â·èµèµ</p>
        </div>
      

    </div>
  </div>


      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/è¯‘æ–‡/" rel="tag"> <i class="fa fa-tag"></i> è¯‘æ–‡</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/EncapsulationThinking/business.html" rel="next" title="iOS å°è£…æ€ç»´â€”ä¸šåŠ¡é€»è¾‘ç±»">
                <i class="fa fa-chevron-left"></i> iOS å°è£…æ€ç»´â€”ä¸šåŠ¡é€»è¾‘ç±»
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/iOSNET/DataSecurity.html" rel="prev" title="iOS æ•°æ®å®‰å…¨â€”ã€ŒåŠ å¯†è§£å¯†ã€">
                iOS æ•°æ®å®‰å…¨â€”ã€ŒåŠ å¯†è§£å¯†ã€ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



 
    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
  <a class="jiathis_button_tsina"></a>
  <a class="jiathis_button_weixin"></a>
  <a class="jiathis_button_cqq"></a>
  <a class="jiathis_button_copy"></a>
  <a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
  var jiathis_config={
    hideMore:true
  }
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
<!-- JiaThis Button END -->
 
      
    </div>



  </div>


          </div>
	  
  <div class="comments" id="comments">


    
      <div id="lv-container" data-id="city" data-uid="MTAyMC8yOTk5My82NTU4"></div>




    
 

  </div>







          


          
        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="æ— å‘³sh" />
          <p class="site-author-name" itemprop="name">æ— å‘³sh</p>
          <p class="site-description motion-element" itemprop="description">å¾è¡Œå››æ—¶äº”å‘³ï¼Œå†·æš–ä½ æˆ‘è‡ªçŸ¥.</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">55</span>
              <span class="site-state-item-name">æ—¥å¿—</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">28</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
	    <a title="æ­¤æ—¶ï¼Œéœ€è¦å–ç‚¹ç™½å¼€æ°´å—ï¼Ÿ" rel="alternate" class="mw-harlem_shake_slow wobble shake" href='javascript:(
    /*
     * Copyright (C) 2015 Rocko (rocko.xyz) <rocko.zxp@gmail.com>
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.

     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    function go() {

      var songs = [
          "http://m2.music.126.net/NnHwR2HV-1OoKZ6R5LVy4Q==/18502581673300023.mp3",
          "http://m2.music.126.net/qv3RI4K7ABKJ0TyAdb3taw==/3250156397064860.mp3",    
      ];

      function S() {
          var e = document.getElementById("audio_element_id");
          if(e != null){
              var index = parseInt(e.getAttribute("curSongIndex"));
              if(index > songs.length - 2) {
                  index = 0;
              } else {
                  index++;
              }
              e.setAttribute("curSongIndex", index);
          }
          e.src = i;
          e.play()
      }
      function initAudioEle() {
          var e = document.getElementById("audio_element_id");
          if(e === null){
            e = document.createElement("audio");
            e.setAttribute("curSongIndex", 0);
            e.id = "audio_element_id";
            e.loop = false;
            e.bgcolor = 0;
            e.innerHTML = " <p>If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.</p> <p>";
            document.body.appendChild(e);
            e.addEventListener("ended", function() {
              go();
            }, true);
          }        
      }

      initAudioEle();
      var curSongIndex = parseInt(document.getElementById("audio_element_id").getAttribute("curSongIndex"));
      var i = songs[curSongIndex];
      S();
    })()'>
    <i class="fa fa-music"></i> Music </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/SunHui-Candy" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="ttps://github.com/SunHui-Candy" target="_blank" title="GitBook">
                  
                    <i class="fa fa-fw fa-book"></i>
                  
                  GitBook
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.jianshu.com/u/ce78ee1f9a89" target="_blank" title="csdn">
                  
                    <i class="fa fa-fw fa-scribd"></i>
                  
                  csdn
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.jianshu.com/u/ce78ee1f9a89" target="_blank" title="ç®€ä¹¦">
                  
                    <i class="fa fa-fw fa-tint"></i>
                  
                  ç®€ä¹¦
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.jianshu.com/u/ce78ee1f9a89" target="_blank" title="æ˜é‡‘">
                  
                    <i class="fa fa-fw fa-tint"></i>
                  
                  æ˜é‡‘
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://plainboiledwaterln.cn/PerceptionWork/appreciates.html" target="_blank" title="èµèµç¯‡">
                  
                    <i class="fa fa-fw fa-book"></i>
                  
                  èµèµç¯‡
                </a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              æ¬¢è¿å‹é“¾
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.jianshu.com/u/ce78ee1f9a89" title="ğŸ’¸Swift-æ— å‘³" target="_blank">ğŸ’¸Swift-æ— å‘³</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#Write-in-the-first"><span class="nav-number">1.</span> <span class="nav-text">Write in the first</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æ­£é¢˜"><span class="nav-number">2.</span> <span class="nav-text">æ­£é¢˜</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Class"><span class="nav-number">3.</span> <span class="nav-text">Class</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UIWebView"><span class="nav-number">4.</span> <span class="nav-text">UIWebView</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Overview"><span class="nav-number">5.</span> <span class="nav-text">Overview</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Supported-File-Formats"><span class="nav-number">6.</span> <span class="nav-text">Supported File Formats</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#State-Preservation"><span class="nav-number">7.</span> <span class="nav-text">State Preservation</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Subclassing-Notes"><span class="nav-number">8.</span> <span class="nav-text">Subclassing Notes</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Symbols"><span class="nav-number">9.</span> <span class="nav-text">Symbols</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Setting-the-Delegate"><span class="nav-number">9.1.</span> <span class="nav-text">Setting the Delegate</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Loading-Content"><span class="nav-number">9.2.</span> <span class="nav-text">Loading Content</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Moving-Back-and-Forward"><span class="nav-number">9.3.</span> <span class="nav-text">Moving Back and Forward</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Setting-Web-Content-Properties"><span class="nav-number">9.4.</span> <span class="nav-text">Setting Web Content Properties</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Running-JavaScript"><span class="nav-number">9.5.</span> <span class="nav-text">Running JavaScript</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Managing-Media-Playback"><span class="nav-number">9.6.</span> <span class="nav-text">Managing Media Playback</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Managing-Pages"><span class="nav-number">9.7.</span> <span class="nav-text">Managing Pages</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#æœ€åé™„ä¸Š-UIWebView-h"><span class="nav-number">9.8.</span> <span class="nav-text">æœ€åé™„ä¸Š UIWebView.h</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æœŸå¾…"><span class="nav-number">10.</span> <span class="nav-text">æœŸå¾…</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heartbeat"></i>
  </span>
  
  <span class="author" itemprop="copyrightHolder">Sun Yong Hui </span>
</div>




 
<div class="theme-info">
Sharing allows you to generate new ideas or habits . 
</div>

 

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>




        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span>äºº</span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span>æ¬¡</span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>
	


  <!-- å°çº¢å¿ƒ -->
  <script type="text/javascript" src="/js/src/é¼ æ ‡ç‚¹å‡»æ˜¾ç¤ºçº¢å¿ƒ/love.js"></script>

  <!--å´©æºƒæ¬ºéª—-->
  <script type="text/javascript" src="/js/src/è®¾ç½®åŠ¨æ€title/dytitle.js"></script>




  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>






  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  



  




	



  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  
  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("vQ73vkdAKXGXXozJnRHiP5No-gzGzoHsz", "7EXnLkna8V5gAtDESH5QvILv");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


 

  


</body>
</html>
